<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>13_shallowClone</title>
</head>

<body>
    <script>
        function clone1(target) {
            if (target instanceof Array) {
                return [...target]
                // return target.slice()
                // return [].concat(target)
                // return Array.from(target)
                // return target.filter(item => true)
                // return target.map(item => item)
                // return target.reduce((pre, item) => {
                //     pre.push(item)
                //     return pre
                // }, [])
            } else if (target !== null && typeof target === "object") {
                return {
                    ...target
                }
            } else {
                return target
            }
        }

        function clone2(target) {
            if (target instanceof Array || (target !== null && typeof target === "object")) {
                const cloneTarget = target instanceof Array ? [] : {}
                for (const key in target) {
                    if (target.hasOwnProperty(key)) {
                        cloneTarget[key] = target[key];
                    }
                }
                return cloneTarget
            } else {
                return target
            }
        }
    </script>

    <script>
        const obj1 = {
            x: 'abc',
            y: {
                m: 1
            }
        }
        const obj2 = clone1(obj1)
        console.log(obj2, obj1 === obj2, obj1.y === obj2.y)
        const arr1 = [11, [1, 3]]
        const arr2 = clone2(arr1)
        console.log(arr2, arr1 === arr2, arr1[1] === arr2[1])
    </script>
</body>

</html>